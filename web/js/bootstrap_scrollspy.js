+function(t){"use strict";function s(e,i){this.$body=t(document.body),this.$scrollElement=t(t(e).is(document.body)?window:e),this.options=t.extend({},s.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function e(e){return this.each(function(){var i=t(this),o=i.data("bs.scrollspy"),r="object"==typeof e&&e;o||i.data("bs.scrollspy",o=new s(this,r)),"string"==typeof e&&o[e]()})}s.VERSION="3.3.7",s.DEFAULTS={offset:10},s.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},s.prototype.refresh=function(){var s=this,e="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(e="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var s=t(this),o=s.data("target")||s.attr("href"),r=/^#./.test(o)&&t(o);return r&&r.length&&r.is(":visible")&&[[r[e]().top+i,o]]||null}).sort(function(t,s){return t[0]-s[0]}).each(function(){s.offsets.push(this[0]),s.targets.push(this[1])})},s.prototype.process=function(){var t,s=this.$scrollElement.scrollTop()+this.options.offset,e=this.getScrollHeight(),i=this.options.offset+e-this.$scrollElement.height(),o=this.offsets,r=this.targets,l=this.activeTarget;if(this.scrollHeight!=e&&this.refresh(),s>=i)return l!=(t=r[r.length-1])&&this.activate(t);if(l&&s<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)l!=r[t]&&s>=o[t]&&(void 0===o[t+1]||s<o[t+1])&&this.activate(r[t])},s.prototype.activate=function(s){this.activeTarget=s,this.clear();var e=this.selector+'[data-target="'+s+'"],'+this.selector+'[href="'+s+'"]',i=t(e).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},s.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=t.fn.scrollspy;t.fn.scrollspy=e,t.fn.scrollspy.Constructor=s,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var s=t(this);e.call(s,s.data())})})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvb3RzdHJhcF9zY3JvbGxzcHkuanMiXSwibmFtZXMiOlsiJCIsIlNjcm9sbFNweSIsImVsZW1lbnQiLCJvcHRpb25zIiwidGhpcyIsIiRib2R5IiwiZG9jdW1lbnQiLCJib2R5IiwiJHNjcm9sbEVsZW1lbnQiLCJpcyIsIndpbmRvdyIsImV4dGVuZCIsIkRFRkFVTFRTIiwic2VsZWN0b3IiLCJ0YXJnZXQiLCJvZmZzZXRzIiwidGFyZ2V0cyIsImFjdGl2ZVRhcmdldCIsInNjcm9sbEhlaWdodCIsIm9uIiwicHJveHkiLCJwcm9jZXNzIiwicmVmcmVzaCIsIlBsdWdpbiIsIm9wdGlvbiIsImVhY2giLCIkdGhpcyIsImRhdGEiLCJWRVJTSU9OIiwib2Zmc2V0IiwicHJvdG90eXBlIiwiZ2V0U2Nyb2xsSGVpZ2h0IiwiTWF0aCIsIm1heCIsImRvY3VtZW50RWxlbWVudCIsInRoYXQiLCJvZmZzZXRNZXRob2QiLCJvZmZzZXRCYXNlIiwiaXNXaW5kb3ciLCJzY3JvbGxUb3AiLCJmaW5kIiwibWFwIiwiJGVsIiwiaHJlZiIsImF0dHIiLCIkaHJlZiIsInRlc3QiLCJsZW5ndGgiLCJ0b3AiLCJzb3J0IiwiYSIsImIiLCJwdXNoIiwiaSIsIm1heFNjcm9sbCIsImhlaWdodCIsImFjdGl2YXRlIiwiY2xlYXIiLCJ1bmRlZmluZWQiLCJhY3RpdmUiLCJwYXJlbnRzIiwiYWRkQ2xhc3MiLCJwYXJlbnQiLCJjbG9zZXN0IiwidHJpZ2dlciIsInBhcmVudHNVbnRpbCIsInJlbW92ZUNsYXNzIiwib2xkIiwiZm4iLCJzY3JvbGxzcHkiLCJDb25zdHJ1Y3RvciIsIm5vQ29uZmxpY3QiLCIkc3B5IiwiY2FsbCIsImpRdWVyeSJdLCJtYXBwaW5ncyI6IkNBU0MsU0FBVUEsR0FDUCxZQUtBLFNBQVNDLEdBQVVDLEVBQVNDLEdBQ3hCQyxLQUFLQyxNQUFpQkwsRUFBRU0sU0FBU0MsTUFDakNILEtBQUtJLGVBQWdEUixFQUEvQkEsRUFBRUUsR0FBU08sR0FBR0gsU0FBU0MsTUFB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NUMsR0FBV1QsS0FBS1MsU0FDaEIsaUJBQW1CQyxFQUFTLE1BQzVCVixLQUFLUyxTQUFXLFVBQVlDLEVBQVMsS0FFckM2QyxFQUFTM0QsRUFBRWEsR0FDVitDLFFBQVEsTUFDUkMsU0FBUyxTQUVWRixHQUFPRyxPQUFPLGtCQUFrQmYsU0FDaENZLEVBQVNBLEVBQ0pJLFFBQVEsZUFDUkYsU0FBUyxXQUdsQkYsRUFBT0ssUUFBUSwwQkFHbkIvRCxFQUFVNkIsVUFBVTJCLE1BQVEsV0FDeEJ6RCxFQUFFSSxLQUFLUyxVQUNGb0QsYUFBYTdELEtBQUtELFFBQVFXLE9BQVEsV0FDbENvRCxZQUFZLFVBa0JyQixJQUFJQyxHQUFNbkUsRUFBRW9FLEdBQUdDLFNBRWZyRSxHQUFFb0UsR0FBR0MsVUFBd0I5QyxFQUM3QnZCLEVBQUVvRSxHQUFHQyxVQUFVQyxZQUFjckUsRUFNN0JELEVBQUVvRSxHQUFHQyxVQUFVRSxXQUFhLFdBRXhCLE1BREF2RSxHQUFFb0UsR0FBR0MsVUFBWUYsRUFDVi9ELE1BT1hKLEVBQUVVLFFBQVFTLEdBQUcsNkJBQThCLFdBQ3ZDbkIsRUFBRSx1QkFBdUJ5QixLQUFLLFdBQzFCLEdBQUkrQyxHQUFPeEUsRUFBRUksS0FDYm1CLEdBQU9rRCxLQUFLRCxFQUFNQSxFQUFLN0MsYUFJakMrQyIsImZpbGUiOiJib290c3RyYXBfc2Nyb2xsc3B5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIEJvb3RzdHJhcDogc2Nyb2xsc3B5LmpzIHYzLjMuN1xyXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNzY3JvbGxzcHlcclxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIENvcHlyaWdodCAyMDExLTIwMTYgVHdpdHRlciwgSW5jLlxyXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cclxuXHJcblxyXG4rZnVuY3Rpb24gKCQpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICAvLyBTQ1JPTExTUFkgQ0xBU1MgREVGSU5JVElPTlxyXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICBmdW5jdGlvbiBTY3JvbGxTcHkoZWxlbWVudCwgb3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMuJGJvZHkgICAgICAgICAgPSAkKGRvY3VtZW50LmJvZHkpXHJcbiAgICAgICAgdGhpcy4kc2Nyb2xsRWxlbWVudCA9ICQoZWxlbWVudCkuaXMoZG9jdW1lbnQuYm9keSkgPyAkKHdpbmRvdykgOiAkKGVsZW1lbnQpXHJcbiAgICAgICAgdGhpcy5vcHRpb25zICAgICAgICA9ICQuZXh0ZW5kKHt9LCBTY3JvbGxTcHkuREVGQVVMVFMsIG9wdGlvbnMpXHJcbiAgICAgICAgdGhpcy5zZWxlY3RvciAgICAgICA9ICh0aGlzLm9wdGlvbnMudGFyZ2V0IHx8ICcnKSArICcgLm5hdiBsaSA+IGEnXHJcbiAgICAgICAgdGhpcy5vZmZzZXRzICAgICAgICA9IFtdXHJcbiAgICAgICAgdGhpcy50YXJnZXRzICAgICAgICA9IFtdXHJcbiAgICAgICAgdGhpcy5hY3RpdmVUYXJnZXQgICA9IG51bGxcclxuICAgICAgICB0aGlzLnNjcm9sbEhlaWdodCAgID0gMFxyXG5cclxuICAgICAgICB0aGlzLiRzY3JvbGxFbGVtZW50Lm9uKCdzY3JvbGwuYnMuc2Nyb2xsc3B5JywgJC5wcm94eSh0aGlzLnByb2Nlc3MsIHRoaXMpKVxyXG4gICAgICAgIHRoaXMucmVmcmVzaCgpXHJcbiAgICAgICAgdGhpcy5wcm9jZXNzKClcclxuICAgIH1cclxuXHJcbiAgICBTY3JvbGxTcHkuVkVSU0lPTiAgPSAnMy4zLjcnXHJcblxyXG4gICAgU2Nyb2xsU3B5LkRFRkFVTFRTID0ge1xyXG4gICAgICAgIG9mZnNldDogMTBcclxuICAgIH1cclxuXHJcbiAgICBTY3JvbGxTcHkucHJvdG90eXBlLmdldFNjcm9sbEhlaWdodCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy4kc2Nyb2xsRWxlbWVudFswXS5zY3JvbGxIZWlnaHQgfHwgTWF0aC5tYXgodGhpcy4kYm9keVswXS5zY3JvbGxIZWlnaHQsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQpXHJcbiAgICB9XHJcblxyXG4gICAgU2Nyb2xsU3B5LnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB0aGF0ICAgICAgICAgID0gdGhpc1xyXG4gICAgICAgIHZhciBvZmZzZXRNZXRob2QgID0gJ29mZnNldCdcclxuICAgICAgICB2YXIgb2Zmc2V0QmFzZSAgICA9IDBcclxuXHJcbiAgICAgICAgdGhpcy5vZmZzZXRzICAgICAgPSBbXVxyXG4gICAgICAgIHRoaXMudGFyZ2V0cyAgICAgID0gW11cclxuICAgICAgICB0aGlzLnNjcm9sbEhlaWdodCA9IHRoaXMuZ2V0U2Nyb2xsSGVpZ2h0KClcclxuXHJcbiAgICAgICAgaWYgKCEkLmlzV2luZG93KHRoaXMuJHNjcm9sbEVsZW1lbnRbMF0pKSB7XHJcbiAgICAgICAgICAgIG9mZnNldE1ldGhvZCA9ICdwb3NpdGlvbidcclxuICAgICAgICAgICAgb2Zmc2V0QmFzZSAgID0gdGhpcy4kc2Nyb2xsRWxlbWVudC5zY3JvbGxUb3AoKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy4kYm9keVxyXG4gICAgICAgICAgICAuZmluZCh0aGlzLnNlbGVjdG9yKVxyXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciAkZWwgICA9ICQodGhpcylcclxuICAgICAgICAgICAgICAgIHZhciBocmVmICA9ICRlbC5kYXRhKCd0YXJnZXQnKSB8fCAkZWwuYXR0cignaHJlZicpXHJcbiAgICAgICAgICAgICAgICB2YXIgJGhyZWYgPSAvXiMuLy50ZXN0KGhyZWYpICYmICQoaHJlZilcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKCRocmVmXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgJGhyZWYubGVuZ3RoXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgJGhyZWYuaXMoJzp2aXNpYmxlJylcclxuICAgICAgICAgICAgICAgICAgICAmJiBbWyRocmVmW29mZnNldE1ldGhvZF0oKS50b3AgKyBvZmZzZXRCYXNlLCBocmVmXV0pIHx8IG51bGxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGFbMF0gLSBiWzBdIH0pXHJcbiAgICAgICAgICAgIC5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHRoYXQub2Zmc2V0cy5wdXNoKHRoaXNbMF0pXHJcbiAgICAgICAgICAgICAgICB0aGF0LnRhcmdldHMucHVzaCh0aGlzWzFdKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIFNjcm9sbFNweS5wcm90b3R5cGUucHJvY2VzcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgc2Nyb2xsVG9wICAgID0gdGhpcy4kc2Nyb2xsRWxlbWVudC5zY3JvbGxUb3AoKSArIHRoaXMub3B0aW9ucy5vZmZzZXRcclxuICAgICAgICB2YXIgc2Nyb2xsSGVpZ2h0ID0gdGhpcy5nZXRTY3JvbGxIZWlnaHQoKVxyXG4gICAgICAgIHZhciBtYXhTY3JvbGwgICAgPSB0aGlzLm9wdGlvbnMub2Zmc2V0ICsgc2Nyb2xsSGVpZ2h0IC0gdGhpcy4kc2Nyb2xsRWxlbWVudC5oZWlnaHQoKVxyXG4gICAgICAgIHZhciBvZmZzZXRzICAgICAgPSB0aGlzLm9mZnNldHNcclxuICAgICAgICB2YXIgdGFyZ2V0cyAgICAgID0gdGhpcy50YXJnZXRzXHJcbiAgICAgICAgdmFyIGFjdGl2ZVRhcmdldCA9IHRoaXMuYWN0aXZlVGFyZ2V0XHJcbiAgICAgICAgdmFyIGlcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsSGVpZ2h0ICE9IHNjcm9sbEhlaWdodCkge1xyXG4gICAgICAgICAgICB0aGlzLnJlZnJlc2goKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHNjcm9sbFRvcCA+PSBtYXhTY3JvbGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFjdGl2ZVRhcmdldCAhPSAoaSA9IHRhcmdldHNbdGFyZ2V0cy5sZW5ndGggLSAxXSkgJiYgdGhpcy5hY3RpdmF0ZShpKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGFjdGl2ZVRhcmdldCAmJiBzY3JvbGxUb3AgPCBvZmZzZXRzWzBdKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlVGFyZ2V0ID0gbnVsbFxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jbGVhcigpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGkgPSBvZmZzZXRzLmxlbmd0aDsgaS0tOykge1xyXG4gICAgICAgICAgICBhY3RpdmVUYXJnZXQgIT0gdGFyZ2V0c1tpXVxyXG4gICAgICAgICAgICAmJiBzY3JvbGxUb3AgPj0gb2Zmc2V0c1tpXVxyXG4gICAgICAgICAgICAmJiAob2Zmc2V0c1tpICsgMV0gPT09IHVuZGVmaW5lZCB8fCBzY3JvbGxUb3AgPCBvZmZzZXRzW2kgKyAxXSlcclxuICAgICAgICAgICAgJiYgdGhpcy5hY3RpdmF0ZSh0YXJnZXRzW2ldKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBTY3JvbGxTcHkucHJvdG90eXBlLmFjdGl2YXRlID0gZnVuY3Rpb24gKHRhcmdldCkge1xyXG4gICAgICAgIHRoaXMuYWN0aXZlVGFyZ2V0ID0gdGFyZ2V0XHJcblxyXG4gICAgICAgIHRoaXMuY2xlYXIoKVxyXG5cclxuICAgICAgICB2YXIgc2VsZWN0b3IgPSB0aGlzLnNlbGVjdG9yICtcclxuICAgICAgICAgICAgJ1tkYXRhLXRhcmdldD1cIicgKyB0YXJnZXQgKyAnXCJdLCcgK1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdG9yICsgJ1tocmVmPVwiJyArIHRhcmdldCArICdcIl0nXHJcblxyXG4gICAgICAgIHZhciBhY3RpdmUgPSAkKHNlbGVjdG9yKVxyXG4gICAgICAgICAgICAucGFyZW50cygnbGknKVxyXG4gICAgICAgICAgICAuYWRkQ2xhc3MoJ2FjdGl2ZScpXHJcblxyXG4gICAgICAgIGlmIChhY3RpdmUucGFyZW50KCcuZHJvcGRvd24tbWVudScpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBhY3RpdmUgPSBhY3RpdmVcclxuICAgICAgICAgICAgICAgIC5jbG9zZXN0KCdsaS5kcm9wZG93bicpXHJcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2FjdGl2ZScpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhY3RpdmUudHJpZ2dlcignYWN0aXZhdGUuYnMuc2Nyb2xsc3B5JylcclxuICAgIH1cclxuXHJcbiAgICBTY3JvbGxTcHkucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQodGhpcy5zZWxlY3RvcilcclxuICAgICAgICAgICAgLnBhcmVudHNVbnRpbCh0aGlzLm9wdGlvbnMudGFyZ2V0LCAnLmFjdGl2ZScpXHJcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJylcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gU0NST0xMU1BZIFBMVUdJTiBERUZJTklUSU9OXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxyXG4gICAgICAgICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLnNjcm9sbHNweScpXHJcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb25cclxuXHJcbiAgICAgICAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuc2Nyb2xsc3B5JywgKGRhdGEgPSBuZXcgU2Nyb2xsU3B5KHRoaXMsIG9wdGlvbnMpKSlcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICB2YXIgb2xkID0gJC5mbi5zY3JvbGxzcHlcclxuXHJcbiAgICAkLmZuLnNjcm9sbHNweSAgICAgICAgICAgICA9IFBsdWdpblxyXG4gICAgJC5mbi5zY3JvbGxzcHkuQ29uc3RydWN0b3IgPSBTY3JvbGxTcHlcclxuXHJcblxyXG4gICAgLy8gU0NST0xMU1BZIE5PIENPTkZMSUNUXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICAkLmZuLnNjcm9sbHNweS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQuZm4uc2Nyb2xsc3B5ID0gb2xkXHJcbiAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gU0NST0xMU1BZIERBVEEtQVBJXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICAkKHdpbmRvdykub24oJ2xvYWQuYnMuc2Nyb2xsc3B5LmRhdGEtYXBpJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoJ1tkYXRhLXNweT1cInNjcm9sbFwiXScpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgJHNweSA9ICQodGhpcylcclxuICAgICAgICAgICAgUGx1Z2luLmNhbGwoJHNweSwgJHNweS5kYXRhKCkpXHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcblxyXG59KGpRdWVyeSk7Il19
